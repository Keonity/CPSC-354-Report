<!DOCTYPE html>

<html>
    <head>
        <script src="../static/js/interpreter.js" type="module">
            // interpreter("_$x^2$x$_")
        </script>
        <script src="../node_modules/mathjs/lib/browser/math.js" type="module"></script>
        <script src="../static/js/test2.js" type="module"></script>
        <script src="../static/js/interpreter.js" type="module"></script>
        <title>A Simple Javascript Calculator</title>
    </head>
    <body>
        <h1>Welcome. At the time of writing, input for the parser is only available in the browser console. Please enter a statement you would like parsed there in the following format: parseGrammar(string).</h1>
        <label for="statement">(PLACEHOLDER)Equation or expression to parse.</label>
        <form id="parsing">
            <script src="../static/js/interpreter.js" type="module"></script>
            <input type="text" id="statement" name="Statement" value="0" onchange="parseGrammar(statement)"><br><br>
            <script src="../static/js/interpreter.js" type="module"></script>
            <script type="text/javascript"> 
                function callInterpreter() {
                    parseGrammar(statement)
                }
            </script>
            <button onclick="">Call Interpreter</button>
            <!--- <script>document.getElementById('statement').value</script> --->
            <!--- <button id="parseExp" >Call interpreter.</button> --->
            <label for="output" id="calcOutput">Calculator output:</label>
        </form>
        <!---<form>
            <button onclick="alert('Test')">Call function</button>
        </form>--->
        <!---<script src="../static/js/test.js" type="text/javascript"></script>
        <script src="../static/js/examples.js" type="text/javascript"></script>--->
        <!--- <script type="text/javascript">
            function mainFunction() {
                var parser = require("./test.js")
                const listCommand = (parser.parse("2+2"))
                //console.log(mathjs.integral('x^2', 'x'))
                for (let i = 0; i<listCommand.length-1; i++) {
                    //console.log(listCommand[i])
                    if (listCommand[i] === 'Assign' && i === 0) {
                        console.log(listCommand[1])
                    }
                    else if (listCommand[i] === 'Assign2' && i === 0) {
                        console.log(listCommand[1])
                    }
                    else if (listCommand[i] === 'Derivative' && i === 0) {
                        let functionBefore = String(listCommand[1])
                        let functionLength = functionBefore.length
                        //let functionAfter = functionBefore.substring(1, functionLength)
                        let functionArgs = functionBefore.split("$")
                        //console.log(mathjs.derivative(newAfter))
            
                        //console.log(mathjs.evaluate(functionAfter))
                    }
                    else if (listCommand[i] === 'IntegrateExp' && i === 0) {
                        console.log("Test")
                        alert("Test")
                        //return document.body.innerHTML("<h2>Test</h2>")
                    }
                    else if (listCommand[i] === 'IntegrateVar' && i === 0) {
                        console.log('(' + String(listCommand[i+1]) + ')^2/2')   
                    }
                    else if (listCommand[i] === 'IntegrateInt' && i === 0) {
                        console.log(String(listCommand[i+1][0]) + 'x')
                    }   
                    else if (listCommand[i] === 'Assignment' && i === 0) {
                        varName = String(listCommand[1])
                        varNum = 2
                        let scope = { varName:varNum }
                        console.log(scope)
                    }
                    else {
                        document.write(listCommand)
                    }
                }
        } </script>   --->
    </body>
</html>